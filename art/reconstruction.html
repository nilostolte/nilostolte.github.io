<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<title>Nilo Stolte Graphics - Vector Art</title>
<link rel="icon" type="image/x-icon" href="art-favicon.svg">
<meta name="keywords" content="vector creations, logos, labels, icons, widgets, advertisements, beer labels, illustrations, graphics designs, vector graphics">
<meta name="description" content="Is your app prepared for tomorrow's resolutions? We offer services and promote vector graphics primitives for the development of interfaces (UI, GUI) on desktops, mobile, web, and embedded systems. The objective is better portability across different platforms and languages, as well as a better solution for different displays resolutions. ">
<meta name="author" content="Nilo Stolte">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

</script>
<link rel="stylesheet" type="text/css" href="/nilo.css">
</head>

<body>
   <div id="wrapper">
      <div id="header">
         <div style="margin: 0.5% 0 0 0;"></div>
         <div title="Click here to know about Nilo Stolte Graphics&#10;Click circles below to go to other sections" class="title-text">
            <a href="../about">NILO STOLTE <span style="color: rgb(59,199,211)";>GRAPHICS</span></a>
         </div>
         <div class="social">
            <a title="Send me an email" href="https://linktr.ee/nilostolte"><img src="/resources/email-logo.svg" style="width:21.3%; height:21.3%;  padding-right: 5.2%;"></a><a title="Follow me on Twitter" href="https://twitter.com/nilostolte"><img src="/resources/twitter-logo.svg" style="width:21.3%; height:21.3%;  padding-right: 5.2%;"></a><a title="Go to my GitHub" href="https://github.com/nilostolte"><img src="/resources/github-logo.svg" style="width:21.3%; height: 21.3%; ;"></a><a title="Go to my Dev account" href="https://dev.to/nilostolte"><img src="/resources/dev-logo.svg" style="width:19.8%; height: 19.8%; padding-left: 5.9%;"></a>
         </div>
         <div style="margin-left: 50%; font-size: 0;">
            <div style="margin: .7vw 0 0 -7.5vw;">
               <div style="width: 15vw;">
                  <svg viewBox="0 0 1540 114" overflow="visible">
                     <g transform="translate(20,0)">
                        <path fill="rgb(47,62,81)" d="M0 30 L-20 50 L0 70 L20 50 Z"/>
                        <path fill="rgb(47,62,81)" d="M0 30 L-20 50 L0 70 L20 50 Z" transform="translate(300,0)"/>
                        <path fill="rgb(47,62,81)" d="M0 30 L-20 50 L0 70 L20 50 Z" transform="translate(600,0)"/>
                        <path fill="rgb(47,62,81)" d="M0 30 L-20 50 L0 70 L20 50 Z" transform="translate(900,0)"/>
                        <path fill="rgb(47,62,81)" d="M0 30 L-20 50 L0 70 L20 50 Z" transform="translate(1200,0)"/>
                        <path fill="rgb(47,62,81)" d="M0 30 L-20 50 L0 70 L20 50 Z" transform="translate(1500,0)"/>
                        <circle cx="150" cy="50" r="57" fill="rgb(152,202,62)"/>
                        <circle cx="450" cy="50" r="57" fill="rgb(181,172,90)"/>
                        <circle cx="750" cy="50" r="57" fill="rgb(228, 168, 146)"/>
                        <circle cx="1050" cy="50" r="57" fill="rgb(64,184,150)"/>
                        <circle cx="1350" cy="50" r="57" fill="rgb(59,199,211)"/>
                     </g>
                  </svg>
               </div>
            </div>
         </div>
         <div style="margin-bottom:5%;"></div>
      </div>
      <div id="twocolumns">
         <div id="leftside">
            <p title="Vector Art" style="text-align: center;">
               <img style="width:60%;" src="art-icon.svg">
            </p>
         </div>
         <div id="rightside">
            <h1>Vector Reconstruction Example</h1>
            <p> In the vector reconstruction example below the flames generation was semi-automated using PostScript and the flame shape refined
                in Illustrator. In the original design the flames don't have all the same shape, as expected in a handmade artwork like this. The
                first thought was to "easily" generate the path for all the flames in PostScript, just picking one flame from one position and
                trying to redraw and close the circle by rotating it by 40°/3 at each step.
            </p>
            <div style="text-align: center; margin: 0 0 2% 0"><img src="king-crimson-larks-original.svg"  width="90%"></div>
            <p> Obviously, there is a particular translation to be done after rotating each flame to make the next flame to fit in the
                predetermined circular trajectory. Instead of calculating this exact translation one can use a near binary search trial and error
                approach to find the x and y components of this translation. In addition, the fact that the interior part of the pattern must fit
                in a predetermined circle with a certain radius serves as a feedback loop refinement to quickly find the answers. 
	    </p>
	    <p> Once the endpoint and the starting point are real close to each other this iteration can stop, but the initial point don't actually
                coincide with the endpoint. The black point and its coordinates (213.686, 37.8411) correspond to the initial flame coordinate,
                and those in red color with corredinates <span style="color: #FF0000">(206.373, 35.5591)</span> correspond to the endpoint:	    
	    </p>
	    <div style="text-align: center; margin: 0 0 0 0"><img src="sun-endpoint.svg"  width="70%"></div>
            <p> Observing that from the second flame forward each flame's first point actually coincides with the endpoint of the previous one by
                design (because we chain the rest of the path in a loop - see the program below), we conclude that we have to do the same with the
                initial flame's first point, that is, we simply make it equal to the endpoint. In other words, we modify its initial coordinates in
                the program with coordinates shown in black above. The result is shown in the figure below: 
            </p>
	    <div style="text-align: center; margin: 0 0 0 0"><img src="sun-error.svg"  width="90%"></div>
            <p>Finally, this is the PostScript code that produces this closed path:</p>
            <div style="text-align: center; margin: 0 0 0 0"><img src="sun-algorithm.svg"  width="90%"></div>
	    <p>This a very simple way to obtain shapes that are composed by a template shape rotated until the endpoints meet. What's interesting is
                that we can use templates with their original absolute coordinates. These coordinates will only affect the values of the x and y
                components of the translation vector. The incremental angle for each rotation only affects the number of template copies, which in
                this case is known in advance to be 27 thanks to the original artwork.
            </p>
            <p >Most of the PostScript code is just for the template (the flame). The first point set before the for loop is the same as the last
                point. The initial translation and scale is just to adjust to the page. The pop deletes the for counter. Finally:
            </p>
            <p> 13.333333° ≅ 360° ÷ 27</p>
            <p>The template shape was first obtained by using one of the flames of the original artwork that was automatically vectorized. Once this
               shape was extracted it was tried by pasting it within the program above. It was actually interesting to see that this shape didn't
               look correct when it was used for all the flames. That's the reason why it was refined by hand using Illustrator.
            </p>
            <p>The problem of using Illustrator in this process was that even though only few outer points were modified the resulting EPS file
               generated by Illustrator revealed significant differences in every point coordinate. This is because Illustrator surprisingly
               applies a different translation to the shape at each time it was modified. This means that all the points in the curves needed to
               be translated back in such a way that the first and final point would be the same as in the initial shape.
            </p> 
            <p> In order to avoid rounding error fixed point integer arithmetic was used instead of floating point arithmetic. This was done
               manually by placing the numbers in an array in the C program below:
            </p>
            <div style="text-align: center; margin: 0 0 0 0"><img src="c-code.svg"  width="90%"></div>
            <p> The first line in the array is just the initial point of the template shape. The other four coordinates are just zeros, since they
               only make sense to represent the Bézier curves of the shape in the following lines uniformly.
            </p>
            <p> The program first determines the translation vector by subtracting the original coordinates of the first point of the template
               shape by the obtained points in the EPS file generated by illustrator after modifying the shape. These modifications never alter
               the initial point. Therefore, since no other transformations such as scaling or translations are ever applied, both points must
               be always identical. That's why it's used to determine the automatic translation done by Illustration.
            </p>
            <p> Then, the program applies the translation to all the other points as shown in the code above, and prints the result, which are
               the following, after manually aligning them:
            </p>
            <div style="text-align: center; margin: 0 0 0 0"><img src="translated-points.svg"  width="90%"></div>
            <p> The initial point and the first Bézier curve are eliminated from the template since it actually corresponds to a part of the
               previous flame, resulting in only the six following Bézier curves and the new initial point, which is the last point of the
               eliminated Bézier curve: <span style="color: #FF8000">(206.373, 35.5591)</span>. Even this initial point is eliminated and
               substituted by the endpoint of the path (213.68, 37.8411) after the entire pattern is generated with the PostScript program
               above as explained previously.
            </p>
		 <a name="reproduction"></a>

		 
	    <h1 title="Vector Reproduction">Vector Reproduction Example</h1>
            <p>A vector reproduction is a vector reconstruction where no original element was used to obtain the reproduction besides its original
                visual appearance. The example below is a vector reconstruction departing from an image, but actually starting entirely from
                scratch to generate the vector information. It's a typical example where automatic vectorization doesn't work. Here, PostScript
                was used from start to finish. Since the geometric definition of the original design is self-evident, and there are quite a few
                repeated patterns, PostScript is the ideal tool to automate its generation. The process to obtain this reproduction is discussed in
                detail <a href="underdevelopment.txt" style="font-family: semibold;">here</a>.
            </p>
            <div style="text-align: center; margin: 0 0 0 0"><img src="ternary-plot.svg"  width="90%"></div>
         </div>
         <div class="col"></div>
         <!-- col one and two supply full length column colours and borders and hold not content -->
         <div class="col two"></div>
      </div>
      <div id="footer">
         <!-- <p>Footer</p> -->
      </div>
   </div>
</body>
</html>
